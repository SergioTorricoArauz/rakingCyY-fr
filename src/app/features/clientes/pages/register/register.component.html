<div class="register-container">
    <div class="register-card">
        <h2 class="register-title">Crear Cuenta</h2>
        <p class="register-subtitle">Únete a nuestra comunidad</p>

        <!-- Mensajes de estado -->
        <div *ngIf="successMsg" class="alert alert-success">
            <i class="fas fa-check-circle"></i>
            {{ successMsg }}
        </div>

        <div *ngIf="errorMsg" class="alert alert-error">
            <i class="fas fa-exclamation-triangle"></i>
            {{ errorMsg }}
        </div>

        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="register-form">
            <!-- Nombre y Apellido -->
            <div class="form-row">
                <div class="form-group">
                    <label for="nombre">Nombre *</label>
                    <input id="nombre" type="text" formControlName="nombre" placeholder="Tu nombre"
                        [class.error]="nombre?.touched && nombre?.invalid" />
                    <div class="error-messages" *ngIf="nombre?.touched && nombre?.invalid">
                        <small *ngIf="nombre?.errors?.['required']">El nombre es obligatorio.</small>
                        <small *ngIf="nombre?.errors?.['minlength']">El nombre debe tener al menos 2 caracteres.</small>
                        <small *ngIf="nombre?.errors?.['maxlength']">El nombre no puede tener más de 50
                            caracteres.</small>
                    </div>
                </div>
            </div>

            <!-- Email -->
            <div class="form-group">
                <label for="email">Correo Electrónico *</label>
                <input id="email" type="email" formControlName="email" placeholder="ejemplo@correo.com"
                    [class.error]="email?.touched && email?.invalid" />
                <div class="error-messages" *ngIf="email?.touched && email?.invalid">
                    <small *ngIf="email?.errors?.['required']">El email es obligatorio.</small>
                    <small *ngIf="email?.errors?.['email']">Formato de email inválido.</small>
                </div>
            </div>

            <!-- Contraseñas -->
            <div class="form-row">
                <div class="form-group">
                    <label for="password">Contraseña *</label>
                    <input id="password" type="password" formControlName="password" placeholder="••••••••"
                        [class.error]="password?.touched && password?.invalid" />
                    <div class="error-messages" *ngIf="password?.touched && password?.invalid">
                        <small *ngIf="password?.errors?.['required']">La contraseña es obligatoria.</small>
                        <small *ngIf="password?.errors?.['minlength']">La contraseña debe tener al menos 6
                            caracteres.</small>
                    </div>
                </div>

                <div class="form-group">
                    <label for="confirmPassword">Confirmar Contraseña *</label>
                    <input id="confirmPassword" type="password" formControlName="confirmPassword" placeholder="••••••••"
                        [class.error]="confirmPassword?.touched && confirmPassword?.invalid" />
                    <div class="error-messages" *ngIf="confirmPassword?.touched && confirmPassword?.invalid">
                        <small *ngIf="confirmPassword?.errors?.['required']">Confirma tu contraseña.</small>
                        <small *ngIf="confirmPassword?.errors?.['passwordMismatch']">Las contraseñas no
                            coinciden.</small>
                    </div>
                </div>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn-crear-cliente-link" [disabled]="loading || registerForm.invalid">
                    {{ loading ? 'Registrando...' : 'Crear cuenta' }}
                </button>
            </div>
        </form>
    </div>
</div>